<ion-view class="post-view">
    <ion-nav-title>
        <span>秒答正文</span>
    </ion-nav-title>
    <ion-nav-buttons side="left">
        <button class="button button-clear " ng-click="vm.goBack()"><i class="icon ion-ios-arrow-back">返回</i></button>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
        <button class="button button-icon button-clear ion-ios-more" ng-click="vm.shareAnywhere()">
        </button>
    </ion-nav-buttons>
    <ion-content has-header="true" padding="false">
        <div class="card1" class="padding-vertical">
            <ion-list>
                <ion-item class="item item-body  item-text-wrap ">
                    <h2 ng-bind-html="vm.question.title " style="color: #3498db;"></h2>
                    <p style="color: #929292;">{{vm.question.createdTS | date:'yyyy.MM.dd hh:ss'}}</p>
                    <p ng-bind-html="vm.question.content | rawHtml"></p>
                    <p>
                        <a href="#" class="subdued">互联网</a>
                        <a href="#" class="subdued">职业发展</a>
                    </p>
                </ion-item>
                <ion-item class="item item-avatar item-text-wrap ">
                    <img ng-src="{{vm.question.replier.avatarUrl ?  vm.question.replier.avatarUrl : 'img/avatars/avatar.jpg'}}">
                    <h2>{{vm.question.replier.name}}</h2>
                    <p class="light">{{vm.question.replier.headline}}</p>
                    <p class="light">{{vm.question.answerCreatedTS | date:'yyyy-MM-dd HH:mm'}} 回答</p>
                </ion-item>
                <div class="item item-body item-text-wrap ">
                    <p class="subdued " ng-bind-html="vm.question.answerContent | rawHtml"></p>
                    <p>
                        <a href="#" class="subdued">赞 {{vm.question.totalRanks}}</a>
                        <a href="#" class="subdued">评论 {{vm.question.totalComments}}</a>
                    </p>
                </div>
                <ion-item id="comments" class="item item-avatar item-text-wrap " ng-repeat="comment in vm.comments">
                    <!-- <img ng-src="{{comment.owner.avatarUrl + '?size=75,75'}}"> -->
                    <img ng-src="{{comment.owner.avatarData !== null ?  'data:image/jpeg;base64,' + comment.owner.avatarData : 'img/avatars/avatar.jpg'}}">
                    <div style="position: relative;">
                        <h2>{{comment.owner.name}}</h2>
                        <p class="light" style="font: 12px/1.3 'Arial','Microsoft YaHei';color: #808080;position: absolute;top:0px;right:10px">{{comment.createdTS | date:'yy-MM-dd hh:ss'}}</p>
                    </div>
                    <p class="light"> {{comment.content}}</p>
                </ion-item>
            </ion-list>
        </div>
    </ion-content>
    <ion-footer-bar>
        <div class="tabs tabs-light tabs-secondary  tabs-color-positive tabs-icon-left">
            <div class="tab-item positive" ng-click="vm.addFavorite(vm.question.questionId)">
                <i class="icon ion-ios-star-outline positive"></i> <span class="positive">收藏</span>
            </div>
            <div class="tab-item positive" ng-click="vm.addComment(vm.question.answerId)">
                <i class="icon ion-ios-chatboxes-outline positive"></i> <span class="positive">评论</span>
            </div>
            <div class="tab-item positive" ng-click="vm.addLike(vm.question.answerId)">
                <i class="icon positive" ng-class="vm.isLiked(vm.question.answerId) ? 'ion-ios-heart' : 'ion-ios-heart-outline'"></i> <span class="positive">赞</span>
            </div>
        </div>
    </ion-footer-bar>
</ion-view>
